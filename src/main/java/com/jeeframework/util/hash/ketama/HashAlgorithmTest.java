package com.jeeframework.util.hash.ketama;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Random;

public class HashAlgorithmTest {

	static Random ran = new Random();
	
	/** key's count */
	private static final Integer EXE_TIMES = 100000;
	
	private static final Integer NODE_COUNT = 5;
	
	private static final Integer VIRTUAL_NODE_COUNT = 160;
	
	private static String ids = "5190a0450cf281fae9da061f,5190a0450cf281fae9da0620,5190a0450cf281fae9da0621,5190a0450cf281fae9da0622,5190a0450cf281fae9da0623,5190a0450cf281fae9da0624,5190a0450cf281fae9da0625,5190a0450cf281fae9da0626,5190a0450cf281fae9da0627,5190a0450cf281fae9da0628,5190a0450cf281fae9da0629,5190a0450cf281fae9da062a,5190a0450cf281fae9da062b,5190a0450cf281fae9da062c,5190a0450cf281fae9da062d,5190a0450cf281fae9da062e,5190a0450cf281fae9da062f,5190a0450cf281fae9da0630,5190a0450cf281fae9da0631,5190a0460cf281fae9da0632,5190a0460cf281fae9da0633,5190a0460cf281fae9da0634,5190a0460cf281fae9da0635,5190a0460cf281fae9da0636,5190a0460cf281fae9da0637,5190a0460cf281fae9da0638,5190a0460cf281fae9da0639,5190a0460cf281fae9da063a,5190a0460cf281fae9da063b,5190a0460cf281fae9da063c,5190a0460cf281fae9da063d,5190a0460cf281fae9da063e,5190a0460cf281fae9da063f,5190a0460cf281fae9da0640,5190a0460cf281fae9da0641,5190a0460cf281fae9da0642,5190a0460cf281fae9da0643,5190a0460cf281fae9da0644,5190a0460cf281fae9da0645,5190a0460cf281fae9da0646,5190a0460cf281fae9da0647,5190a0460cf281fae9da0648,5190a0460cf281fae9da0649,5190a0460cf281fae9da064a,5190a0460cf281fae9da064b,5190a0460cf281fae9da064c,5190a0460cf281fae9da064d,5190a0460cf281fae9da064e,5190a0460cf281fae9da064f,5190a0460cf281fae9da0650,5190a0460cf281fae9da0651,5190a0460cf281fae9da0652,5190a0460cf281fae9da0653,5190a0460cf281fae9da0654,5190a0460cf281fae9da0655,5190a0460cf281fae9da0656,5190a0460cf281fae9da0657,5190a0460cf281fae9da0658,5190a0460cf281fae9da0659,5190a0460cf281fae9da065a,5190a0460cf281fae9da065b,5190a0460cf281fae9da065c,5190a0460cf281fae9da065d,5190a0460cf281fae9da065e,5190a0460cf281fae9da065f,5190a0460cf281fae9da0660,5190a0460cf281fae9da0661,5190a0460cf281fae9da0662,5190a0460cf281fae9da0663,5190a0460cf281fae9da0664,5190a0460cf281fae9da0665,5190a0460cf281fae9da0666,5190a0460cf281fae9da0667,5190a0460cf281fae9da0668,5190a0460cf281fae9da0669,5190a0460cf281fae9da066a,5190a0460cf281fae9da066b,5190a0460cf281fae9da066c,5190a0460cf281fae9da066d,5190a0460cf281fae9da066e,5190a0460cf281fae9da066f,5190a0460cf281fae9da0670,5190a0460cf281fae9da0671,5190a0460cf281fae9da0672,5190a0460cf281fae9da0673,5190a0460cf281fae9da0674,5190a0460cf281fae9da0675,5190a0470cf281fae9da0676,5190a0470cf281fae9da0677,5190a0470cf281fae9da0678,5190a0470cf281fae9da0679,5190a0470cf281fae9da067a,5190a0470cf281fae9da067b,5190a0470cf281fae9da067c,5190a0470cf281fae9da067d,5190a0470cf281fae9da067e,5190a0470cf281fae9da067f,5190a0470cf281fae9da0680,5190a0470cf281fae9da0681,5190a0470cf281fae9da0682,5190a0470cf281fae9da0683,5190a0470cf281fae9da0684,5190a0470cf281fae9da0685,5190a0470cf281fae9da0686,5190a0470cf281fae9da0687,5190a0470cf281fae9da0688,5190a0470cf281fae9da0689,5190a0470cf281fae9da068a,5190a0470cf281fae9da068b,5190a0470cf281fae9da068c,5190a0470cf281fae9da068d,5190a0470cf281fae9da068e,5190a0470cf281fae9da068f,5190a0470cf281fae9da0690,5190a0470cf281fae9da0691,5190a0470cf281fae9da0692,5190a0470cf281fae9da0693,5190a0470cf281fae9da0694,5190a0470cf281fae9da0695,5190a0470cf281fae9da0696,5190a0470cf281fae9da0697,5190a0470cf281fae9da0698,5190a0470cf281fae9da0699,5190a0470cf281fae9da069a,5190a0470cf281fae9da069b,5190a0470cf281fae9da069c,5190a0470cf281fae9da069d,5190a0470cf281fae9da069e,5190a0470cf281fae9da069f,5190a0470cf281fae9da06a0,5190a0470cf281fae9da06a1,5190a0470cf281fae9da06a2,5190a0470cf281fae9da06a3,5190a0470cf281fae9da06a4,5190a0470cf281fae9da06a5,5190a0470cf281fae9da06a6,5190a0470cf281fae9da06a7,5190a0470cf281fae9da06a8,5190a0470cf281fae9da06a9,5190a0470cf281fae9da06aa,5190a0470cf281fae9da06ab,5190a0470cf281fae9da06ac,5190a0470cf281fae9da06ad,5190a0470cf281fae9da06ae,5190a0470cf281fae9da06af,5190a0470cf281fae9da06b0,5190a0470cf281fae9da06b1,5190a0470cf281fae9da06b2,5190a0480cf281fae9da06b3,5190a0480cf281fae9da06b4,5190a0480cf281fae9da06b5,5190a0480cf281fae9da06b6,5190a0490cf281fae9da06b7,5190a04b0cf281fae9da06b8,5190a04b0cf281fae9da06b9,5190a04b0cf281fae9da06ba,5190a04b0cf281fae9da06bb,5190a04b0cf281fae9da06bc,5190a04b0cf281fae9da06bd,5190a04b0cf281fae9da06be,5190a04b0cf281fae9da06bf,5190a04b0cf281fae9da06c0,5190a04b0cf281fae9da06c1,5190a04b0cf281fae9da06c2,5190a04b0cf281fae9da06c3,5190a04b0cf281fae9da06c4,5190a04b0cf281fae9da06c5,5190a04b0cf281fae9da06c6,5190a04b0cf281fae9da06c7,5190a04b0cf281fae9da06c8,5190a04b0cf281fae9da06c9,5190a04b0cf281fae9da06ca,5190a04b0cf281fae9da06cb,5190a04b0cf281fae9da06cc,5190a04b0cf281fae9da06cd,5190a04b0cf281fae9da06ce,5190a04b0cf281fae9da06cf,5190a04b0cf281fae9da06d0,5190a04b0cf281fae9da06d1,5190a04b0cf281fae9da06d2,5190a04b0cf281fae9da06d3,5190a04b0cf281fae9da06d4,5190a04b0cf281fae9da06d5,5190a04c0cf281fae9da06d6,5190a04c0cf281fae9da06d7,5190a04c0cf281fae9da06d8,5190a04c0cf281fae9da06d9,5190a04c0cf281fae9da06da,5190a04c0cf281fae9da06db,5190a04c0cf281fae9da06dc,5190a04c0cf281fae9da06dd,5190a04c0cf281fae9da06de,5190a04c0cf281fae9da06df,5190a04c0cf281fae9da06e0,5190a04c0cf281fae9da06e1,5190a04c0cf281fae9da06e2,5190a04c0cf281fae9da06e3,5190a04c0cf281fae9da06e4,5190a04c0cf281fae9da06e5,5190a04c0cf281fae9da06e6,5190a04c0cf281fae9da06e7,5190a04c0cf281fae9da06e8,5190a04c0cf281fae9da06e9,5190a04c0cf281fae9da06ea,5190a04c0cf281fae9da06eb,5190a04c0cf281fae9da06ec,5190a04c0cf281fae9da06ed,5190a04c0cf281fae9da06ee,5190a04c0cf281fae9da06ef,5190a04c0cf281fae9da06f0,5190a04c0cf281fae9da06f1,5190a04c0cf281fae9da06f2,5190a04c0cf281fae9da06f3,5190a04c0cf281fae9da06f4,5190a04c0cf281fae9da06f5,5190a04c0cf281fae9da06f6,5190a04c0cf281fae9da06f7,5190a04c0cf281fae9da06f8,5190a04c0cf281fae9da06f9,5190a04c0cf281fae9da06fa,5190a04c0cf281fae9da06fb,5190a04c0cf281fae9da06fc,5190a04c0cf281fae9da06fd,5190a04c0cf281fae9da06fe,5190a04c0cf281fae9da06ff,5190a04c0cf281fae9da0700,5190a04c0cf281fae9da0701,5190a04c0cf281fae9da0702,5190a04c0cf281fae9da0703,5190a04c0cf281fae9da0704,5190a04c0cf281fae9da0705,5190a04c0cf281fae9da0706,5190a04c0cf281fae9da0707,5190a04c0cf281fae9da0708,5190a04c0cf281fae9da0709,5190a04c0cf281fae9da070a,5190a04c0cf281fae9da070b,5190a04c0cf281fae9da070c,5190a04c0cf281fae9da070d,5190a04c0cf281fae9da070e,5190a04c0cf281fae9da070f,5190a04c0cf281fae9da0710,5190a04c0cf281fae9da0711,5190a04c0cf281fae9da0712,5190a04c0cf281fae9da0713,5190a04c0cf281fae9da0714,5190a04c0cf281fae9da0715,5190a04c0cf281fae9da0716,5190a04c0cf281fae9da0717,5190a04c0cf281fae9da0718,5190a04c0cf281fae9da0719,5190a04c0cf281fae9da071a,5190a04c0cf281fae9da071b,5190a04c0cf281fae9da071c,5190a04c0cf281fae9da071d,5190a04c0cf281fae9da071e,5190a04c0cf281fae9da071f,5190a04c0cf281fae9da0720,5190a04c0cf281fae9da0721,5190a04c0cf281fae9da0722,5190a04c0cf281fae9da0723,5190a04c0cf281fae9da0724,5190a04c0cf281fae9da0725,5190a04c0cf281fae9da0726,5190a04c0cf281fae9da0727,5190a04c0cf281fae9da0728,5190a04c0cf281fae9da0729,5190a04c0cf281fae9da072a,5190a04c0cf281fae9da072b,5190a04c0cf281fae9da072c,5190a04c0cf281fae9da072d,5190a04c0cf281fae9da072e,5190a04c0cf281fae9da072f,5190a04c0cf281fae9da0730,5190a04c0cf281fae9da0731,5190a04c0cf281fae9da0732,5190a04c0cf281fae9da0733,5190a04c0cf281fae9da0734,5190a04c0cf281fae9da0735,5190a04c0cf281fae9da0736,5190a04c0cf281fae9da0737,5190a04c0cf281fae9da0738,5190a04c0cf281fae9da0739,5190a04c0cf281fae9da073a,5190a04c0cf281fae9da073b,5190a04c0cf281fae9da073c,5190a04c0cf281fae9da073d,5190a04c0cf281fae9da073e,5190a04c0cf281fae9da073f,5190a04c0cf281fae9da0740,5190a04c0cf281fae9da0741,5190a04c0cf281fae9da0742,5190a04c0cf281fae9da0743,5190a04c0cf281fae9da0744,5190a04c0cf281fae9da0745,5190a04c0cf281fae9da0746,5190a04c0cf281fae9da0747,5190a04d0cf281fae9da0748,5190a04d0cf281fae9da0749,5190a04d0cf281fae9da074a,5190a04d0cf281fae9da074b,5190a04d0cf281fae9da074c,5190a04d0cf281fae9da074d,5190a04d0cf281fae9da074e,5190a04d0cf281fae9da074f,5190a04d0cf281fae9da0750,5190a04d0cf281fae9da0751,5190a04d0cf281fae9da0752,5190a04d0cf281fae9da0753,5190a04d0cf281fae9da0754,5190a04d0cf281fae9da0755,5190a04d0cf281fae9da0756,5190a04d0cf281fae9da0757,5190a04d0cf281fae9da0758,5190a04d0cf281fae9da0759,5190a04d0cf281fae9da075a,5190a04d0cf281fae9da075b,5190a04d0cf281fae9da075c,5190a04d0cf281fae9da075d,5190a04d0cf281fae9da075e,5190a04d0cf281fae9da075f,5190a04d0cf281fae9da0760,5190a04d0cf281fae9da0761,5190a04d0cf281fae9da0762,5190a04d0cf281fae9da0763,5190a04d0cf281fae9da0764,5190a04d0cf281fae9da0765,5190a04d0cf281fae9da0766,5190a04d0cf281fae9da0767,5190a04d0cf281fae9da0768,5190a04d0cf281fae9da0769,5190a04d0cf281fae9da076a,5190a04d0cf281fae9da076b,5190a04d0cf281fae9da076c,5190a04d0cf281fae9da076d,5190a04d0cf281fae9da076e,5190a04d0cf281fae9da076f,5190a04d0cf281fae9da0770,5190a04d0cf281fae9da0771,5190a04d0cf281fae9da0772,5190a04d0cf281fae9da0773,5190a04d0cf281fae9da0774,5190a04d0cf281fae9da0775,5190a04d0cf281fae9da0776,5190a04d0cf281fae9da0777,5190a04d0cf281fae9da0778,5190a04d0cf281fae9da0779,5190a04d0cf281fae9da077a,5190a04d0cf281fae9da077b,5190a04d0cf281fae9da077c,5190a04d0cf281fae9da077d,5190a04d0cf281fae9da077e,5190a04d0cf281fae9da077f,5190a04d0cf281fae9da0780,5190a04d0cf281fae9da0781,5190a04d0cf281fae9da0782,5190a04d0cf281fae9da0783,5190a04d0cf281fae9da0784,5190a04d0cf281fae9da0785,5190a04d0cf281fae9da0786,5190a04d0cf281fae9da0787,5190a04d0cf281fae9da0788,5190a04d0cf281fae9da0789,5190a04d0cf281fae9da078a,5190a04d0cf281fae9da078b,5190a04d0cf281fae9da078c,5190a04d0cf281fae9da078d,5190a04d0cf281fae9da078e,5190a04d0cf281fae9da078f,5190a04d0cf281fae9da0790,5190a04d0cf281fae9da0791,5190a04d0cf281fae9da0792,5190a04d0cf281fae9da0793,5190a04d0cf281fae9da0794,5190a04d0cf281fae9da0795,5190a04d0cf281fae9da0796,5190a04d0cf281fae9da0797,5190a04d0cf281fae9da0798,5190a04d0cf281fae9da0799,5190a04d0cf281fae9da079a,5190a04d0cf281fae9da079b,5190a04d0cf281fae9da079c,5190a04d0cf281fae9da079d,5190a04d0cf281fae9da079e,5190a04d0cf281fae9da079f,5190a04d0cf281fae9da07a0,5190a04d0cf281fae9da07a1,5190a04d0cf281fae9da07a2,5190a04d0cf281fae9da07a3,5190a04d0cf281fae9da07a4,5190a04d0cf281fae9da07a5,5190a04d0cf281fae9da07a6,5190a04d0cf281fae9da07a7,5190a04d0cf281fae9da07a8,5190a04d0cf281fae9da07a9,5190a04d0cf281fae9da07aa,5190a04d0cf281fae9da07ab,5190a04d0cf281fae9da07ac,5190a04d0cf281fae9da07ad,5190a04d0cf281fae9da07ae,5190a04e0cf281fae9da07af,5190a04e0cf281fae9da07b0,5190a04e0cf281fae9da07b1,5190a04e0cf281fae9da07b2,5190a04e0cf281fae9da07b3,5190a04e0cf281fae9da07b4,5190a04e0cf281fae9da07b5,5190a04e0cf281fae9da07b6,5190a04e0cf281fae9da07b7,5190a04e0cf281fae9da07b8,5190a04e0cf281fae9da07b9,5190a04f0cf281fae9da07ba,5190a04f0cf281fae9da07bb,5190a04f0cf281fae9da07bc,5190a04f0cf281fae9da07bd,5190a04f0cf281fae9da07be,5190a04f0cf281fae9da07bf,5190a04f0cf281fae9da07c0,5190a04f0cf281fae9da07c1,5190a04f0cf281fae9da07c2,5190a04f0cf281fae9da07c3,5190a04f0cf281fae9da07c4,5190a04f0cf281fae9da07c5,5190a04f0cf281fae9da07c6,5190a04f0cf281fae9da07c7,5190a04f0cf281fae9da07c8,5190a04f0cf281fae9da07c9,5190a04f0cf281fae9da07ca,5190a04f0cf281fae9da07cb,5190a04f0cf281fae9da07cc,5190a04f0cf281fae9da07cd,5190a04f0cf281fae9da07ce,5190a04f0cf281fae9da07cf,5190a04f0cf281fae9da07d0,5190a04f0cf281fae9da07d1,5190a04f0cf281fae9da07d2,5190a04f0cf281fae9da07d3,5190a04f0cf281fae9da07d4,5190a04f0cf281fae9da07d5,5190a04f0cf281fae9da07d6,5190a04f0cf281fae9da07d7,5190a04f0cf281fae9da07d8,5190a04f0cf281fae9da07d9,5190a04f0cf281fae9da07da,5190a04f0cf281fae9da07db,5190a04f0cf281fae9da07dc,5190a04f0cf281fae9da07dd,5190a04f0cf281fae9da07de,5190a04f0cf281fae9da07df,5190a04f0cf281fae9da07e0,5190a04f0cf281fae9da07e1,5190a04f0cf281fae9da07e2,5190a04f0cf281fae9da07e3,5190a04f0cf281fae9da07e4,5190a04f0cf281fae9da07e5,5190a04f0cf281fae9da07e6,5190a04f0cf281fae9da07e7,5190a04f0cf281fae9da07e8,5190a04f0cf281fae9da07e9,5190a04f0cf281fae9da07ea,5190a04f0cf281fae9da07eb,5190a04f0cf281fae9da07ec,5190a04f0cf281fae9da07ed,5190a04f0cf281fae9da07ee,5190a04f0cf281fae9da07ef,5190a04f0cf281fae9da07f0,5190a04f0cf281fae9da07f1,5190a04f0cf281fae9da07f2,5190a04f0cf281fae9da07f3,5190a04f0cf281fae9da07f4,5190a04f0cf281fae9da07f5,5190a04f0cf281fae9da07f6,5190a04f0cf281fae9da07f7,5190a04f0cf281fae9da07f8,5190a04f0cf281fae9da07f9,5190a04f0cf281fae9da07fa,5190a04f0cf281fae9da07fb,5190a04f0cf281fae9da07fc,5190a04f0cf281fae9da07fd,5190a04f0cf281fae9da07fe,5190a04f0cf281fae9da07ff,5190a04f0cf281fae9da0800,5190a04f0cf281fae9da0801,5190a04f0cf281fae9da0802,5190a04f0cf281fae9da0803,5190a04f0cf281fae9da0804,5190a04f0cf281fae9da0805,5190a04f0cf281fae9da0806,5190a04f0cf281fae9da0807,5190a04f0cf281fae9da0808,5190a04f0cf281fae9da0809,5190a04f0cf281fae9da080a,5190a04f0cf281fae9da080b,5190a04f0cf281fae9da080c,5190a04f0cf281fae9da080d,5190a04f0cf281fae9da080e,5190a04f0cf281fae9da080f,5190a04f0cf281fae9da0810,5190a04f0cf281fae9da0811,5190a04f0cf281fae9da0812,5190a04f0cf281fae9da0813,5190a0500cf281fae9da0814,5190a0500cf281fae9da0815,5190a0500cf281fae9da0816,5190a0500cf281fae9da0817,5190a0500cf281fae9da0818,5190a0500cf281fae9da0819,5190a0500cf281fae9da081a,5190a0500cf281fae9da081b,5190a0500cf281fae9da081c,5190a0500cf281fae9da081d,5190a0500cf281fae9da081e,5190a0500cf281fae9da081f,5190a0500cf281fae9da0820,5190a0500cf281fae9da0821,5190a0500cf281fae9da0822,5190a0500cf281fae9da0823,5190a0500cf281fae9da0824,5190a0500cf281fae9da0825,5190a0500cf281fae9da0826,5190a0500cf281fae9da0827,5190a0500cf281fae9da0828,5190a0500cf281fae9da0829,5190a0500cf281fae9da082a,5190a0500cf281fae9da082b,5190a0500cf281fae9da082c,5190a0500cf281fae9da082d,5190a0500cf281fae9da082e,5190a0500cf281fae9da082f,5190a0500cf281fae9da0830,5190a0500cf281fae9da0831,5190a0500cf281fae9da0832,5190a0500cf281fae9da0833,5190a0500cf281fae9da0834,5190a0500cf281fae9da0835,5190a0500cf281fae9da0836,5190a0500cf281fae9da0837,5190a0500cf281fae9da0838,5190a0500cf281fae9da0839,5190a0500cf281fae9da083a,5190a0500cf281fae9da083b,5190a0500cf281fae9da083c,5190a0500cf281fae9da083d,5190a0500cf281fae9da083e,5190a0500cf281fae9da083f,5190a0500cf281fae9da0840,5190a0500cf281fae9da0841,5190a0500cf281fae9da0842,5190a0500cf281fae9da0843,5190a0500cf281fae9da0844,5190a0500cf281fae9da0845,5190a0500cf281fae9da0846,5190a0500cf281fae9da0847,5190a0500cf281fae9da0848,5190a0500cf281fae9da0849,5190a0500cf281fae9da084a,5190a0500cf281fae9da084b,5190a0500cf281fae9da084c,5190a0500cf281fae9da084d,5190a0500cf281fae9da084e,5190a0500cf281fae9da084f,5190a0500cf281fae9da0850,5190a0500cf281fae9da0851,5190a0500cf281fae9da0852,5190a0500cf281fae9da0853,5190a0500cf281fae9da0854,5190a0500cf281fae9da0855,5190a0500cf281fae9da0856,5190a0500cf281fae9da0857,5190a0500cf281fae9da0858,5190a0500cf281fae9da0859,5190a0500cf281fae9da085a,5190a0500cf281fae9da085b,5190a0500cf281fae9da085c,5190a0500cf281fae9da085d,5190a0500cf281fae9da085e,5190a0500cf281fae9da085f,5190a0500cf281fae9da0860,5190a0500cf281fae9da0861,5190a0500cf281fae9da0862,5190a0500cf281fae9da0863,5190a0500cf281fae9da0864,5190a0500cf281fae9da0865,5190a0500cf281fae9da0866,5190a0500cf281fae9da0867,5190a0500cf281fae9da0868,5190a0500cf281fae9da0869,5190a0500cf281fae9da086a,5190a0500cf281fae9da086b,5190a0500cf281fae9da086c,5190a0500cf281fae9da086d,5190a0500cf281fae9da086e,5190a0500cf281fae9da086f,5190a0500cf281fae9da0870,5190a0500cf281fae9da0871,5190a0500cf281fae9da0872,5190a0500cf281fae9da0873,5190a0500cf281fae9da0874,5190a0500cf281fae9da0875,5190a0500cf281fae9da0876,5190a0500cf281fae9da0877,5190a0500cf281fae9da0878,5190a0500cf281fae9da0879,5190a0500cf281fae9da087a,5190a0500cf281fae9da087b,5190a0500cf281fae9da087c,5190a0500cf281fae9da087d,5190a0500cf281fae9da087e,5190a0500cf281fae9da087f,5190a0500cf281fae9da0880,5190a0500cf281fae9da0881,5190a0500cf281fae9da0882,5190a0500cf281fae9da0883,5190a0500cf281fae9da0884,5190a0500cf281fae9da0885,5190a0500cf281fae9da0886,5190a0500cf281fae9da0887,5190a0500cf281fae9da0888,5190a0500cf281fae9da0889,5190a0500cf281fae9da088a,5190a0500cf281fae9da088b,5190a0500cf281fae9da088c,5190a0500cf281fae9da088d,5190a0500cf281fae9da088e,5190a0500cf281fae9da088f,5190a0500cf281fae9da0890,5190a0500cf281fae9da0891,5190a0510cf281fae9da0892,5190a0510cf281fae9da0893,5190a0510cf281fae9da0894,5190a0510cf281fae9da0895,5190a0510cf281fae9da0896,5190a0510cf281fae9da0897,5190a0510cf281fae9da0898,5190a0510cf281fae9da0899,5190a0510cf281fae9da089a,5190a0510cf281fae9da089b,5190a0510cf281fae9da089c,5190a0510cf281fae9da089d,5190a0510cf281fae9da089e,5190a0510cf281fae9da089f,5190a0510cf281fae9da08a0,5190a0510cf281fae9da08a1,5190a0510cf281fae9da08a2,5190a0510cf281fae9da08a3,5190a0510cf281fae9da08a4,5190a0510cf281fae9da08a5,5190a0510cf281fae9da08a6,5190a0510cf281fae9da08a7,5190a0510cf281fae9da08a8,5190a0510cf281fae9da08a9,5190a0510cf281fae9da08aa,5190a0510cf281fae9da08ab,5190a0510cf281fae9da08ac,5190a0510cf281fae9da08ad,5190a0510cf281fae9da08ae,5190a0510cf281fae9da08af,5190a0510cf281fae9da08b0,5190a0510cf281fae9da08b1,5190a0510cf281fae9da08b2,5190a0510cf281fae9da08b3,5190a0510cf281fae9da08b4,5190a0510cf281fae9da08b5,5190a0510cf281fae9da08b6,5190a0510cf281fae9da08b7,5190a0510cf281fae9da08b8,5190a0510cf281fae9da08b9,5190a0510cf281fae9da08ba,5190a0510cf281fae9da08bb,5190a0510cf281fae9da08bc,5190a0510cf281fae9da08bd,5190a0510cf281fae9da08be,5190a0510cf281fae9da08bf,5190a0510cf281fae9da08c0,5190a0510cf281fae9da08c1,5190a0510cf281fae9da08c2,5190a0510cf281fae9da08c3,5190a0510cf281fae9da08c4,5190a0510cf281fae9da08c5,5190a0510cf281fae9da08c6,5190a0510cf281fae9da08c7,5190a0510cf281fae9da08c8,5190a0510cf281fae9da08c9,5190a0510cf281fae9da08ca,5190a0510cf281fae9da08cb,5190a0510cf281fae9da08cc,5190a0510cf281fae9da08cd,5190a0510cf281fae9da08ce,5190a0510cf281fae9da08cf,5190a0510cf281fae9da08d0,5190a0510cf281fae9da08d1,5190a0510cf281fae9da08d2,5190a0510cf281fae9da08d3,5190a0510cf281fae9da08d4,5190a0510cf281fae9da08d5,5190a0510cf281fae9da08d6,5190a0520cf281fae9da08e1,5190a0520cf281fae9da08e2,5190a0520cf281fae9da08e3,5190a0520cf281fae9da08e4,5190a0520cf281fae9da08e5,5190a0520cf281fae9da08e6,5190a0520cf281fae9da08e7,5190a0520cf281fae9da08e8,5190a0520cf281fae9da08e9,5190a0520cf281fae9da08ea,5190a0520cf281fae9da08eb,5190a0520cf281fae9da08ec,5190a0520cf281fae9da08ed,5190a0520cf281fae9da08ee,5190a0520cf281fae9da08ef,5190a0520cf281fae9da08f0,5190a0520cf281fae9da08f1,5190a0520cf281fae9da08f2,5190a0520cf281fae9da08f3,5190a0520cf281fae9da08f4,5190a0520cf281fae9da08f5,5190a0520cf281fae9da08f6,5190a0520cf281fae9da08f7,5190a0520cf281fae9da08f8,5190a0520cf281fae9da08f9,5190a0520cf281fae9da08fa,5190a0520cf281fae9da08fb,5190a0520cf281fae9da08fc,5190a0520cf281fae9da08fd,5190a0520cf281fae9da08fe,5190a0520cf281fae9da08ff,5190a0520cf281fae9da0900,5190a0520cf281fae9da0901,5190a0520cf281fae9da0902,5190a0520cf281fae9da0903,5190a0520cf281fae9da0904,5190a0520cf281fae9da0905,5190a0520cf281fae9da0906,5190a0520cf281fae9da0907,5190a0520cf281fae9da0908,5190a0520cf281fae9da0909,5190a0520cf281fae9da090a,5190a0520cf281fae9da090b,5190a0520cf281fae9da090c,5190a0520cf281fae9da090d,5190a0520cf281fae9da090e,5190a0520cf281fae9da090f,5190a0520cf281fae9da0910,5190a0520cf281fae9da0911,5190a0520cf281fae9da0912,5190a0520cf281fae9da0913,5190a0520cf281fae9da0914,5190a0520cf281fae9da0915,5190a0520cf281fae9da0916,5190a0520cf281fae9da0917,5190a0520cf281fae9da0918,5190a0520cf281fae9da0919,5190a0520cf281fae9da091a,5190a0520cf281fae9da091b,5190a0520cf281fae9da091c,5190a0520cf281fae9da091d,5190a0520cf281fae9da091e,5190a0520cf281fae9da091f,5190a0520cf281fae9da0920,5190a0520cf281fae9da0921,5190a0520cf281fae9da0922,5190a0520cf281fae9da0923,5190a0520cf281fae9da0924,5190a0520cf281fae9da0925,5190a0520cf281fae9da0926,5190a0520cf281fae9da0927,5190a0520cf281fae9da0928,5190a0520cf281fae9da0929,5190a0520cf281fae9da092a,5190a0520cf281fae9da092b,5190a0520cf281fae9da092c,5190a0520cf281fae9da092d,5190a0520cf281fae9da092e,5190a0520cf281fae9da092f,5190a0520cf281fae9da0930,5190a0520cf281fae9da0931,5190a0520cf281fae9da0932,5190a0520cf281fae9da0933,5190a0520cf281fae9da0934,5190a0520cf281fae9da0935,5190a0520cf281fae9da0936,5190a0520cf281fae9da0937,5190a0520cf281fae9da0938,5190a0520cf281fae9da0939,5190a0520cf281fae9da093a,5190a0520cf281fae9da093b,5190a0520cf281fae9da093c,5190a0520cf281fae9da093d,5190a0520cf281fae9da093e,5190a0520cf281fae9da093f,5190a0520cf281fae9da0940,5190a0520cf281fae9da0941,5190a0520cf281fae9da0942,5190a0520cf281fae9da0943,5190a0520cf281fae9da0944,5190a0520cf281fae9da0945,5190a0520cf281fae9da0946,5190a0520cf281fae9da0947,5190a0530cf281fae9da0948,5190a0530cf281fae9da0949,5190a0530cf281fae9da094a,5190a0530cf281fae9da094b,5190a0530cf281fae9da094c,5190a0530cf281fae9da094d,5190a0530cf281fae9da094e,5190a0530cf281fae9da094f,5190a0530cf281fae9da0950,5190a0530cf281fae9da0951,5190a0530cf281fae9da0952,5190a0530cf281fae9da0953,5190a0530cf281fae9da0954,5190a0530cf281fae9da0955,5190a0530cf281fae9da0956,5190a0530cf281fae9da0957,5190a0530cf281fae9da0958,5190a0530cf281fae9da0959,5190a0530cf281fae9da095a,5190a0530cf281fae9da095b,5190a0530cf281fae9da095c,5190a0530cf281fae9da095d,5190a0530cf281fae9da095e,5190a0530cf281fae9da095f,5190a0530cf281fae9da0960,5190a0530cf281fae9da0961,5190a0530cf281fae9da0962,5190a0530cf281fae9da0963,5190a0530cf281fae9da0964,5190a0530cf281fae9da0965,5190a0530cf281fae9da0966,5190a0530cf281fae9da0967,5190a0530cf281fae9da0968,5190a0530cf281fae9da0969,5190a0530cf281fae9da096a,5190a0530cf281fae9da096b,5190a0530cf281fae9da096c,5190a0530cf281fae9da096d,5190a0530cf281fae9da096e,5190a0530cf281fae9da096f,5190a0530cf281fae9da0970,5190a0530cf281fae9da0971,5190a0530cf281fae9da0972,5190a0530cf281fae9da0973,5190a0530cf281fae9da0974,5190a0530cf281fae9da0975,5190a0530cf281fae9da0976,5190a0530cf281fae9da0977,5190a0530cf281fae9da0978,5190a0530cf281fae9da0979,5190a0530cf281fae9da097a,5190a0530cf281fae9da097b,5190a0530cf281fae9da097c,5190a0530cf281fae9da097d,5190a0530cf281fae9da097e,5190a0530cf281fae9da097f,5190a0530cf281fae9da0980,5190a0530cf281fae9da0981,5190a0530cf281fae9da0982,5190a0530cf281fae9da0983,5190a0530cf281fae9da0984,5190a0530cf281fae9da0985,5190a0530cf281fae9da0986,5190a0530cf281fae9da0987,5190a0540cf281fae9da0988,5190a0540cf281fae9da0989,5190a0540cf281fae9da098a,5190a0540cf281fae9da098b,5190a0540cf281fae9da098c,5190a0540cf281fae9da098d,5190a0540cf281fae9da098e,5190a0540cf281fae9da098f,5190a0540cf281fae9da0990,5190a0540cf281fae9da0991,5190a0540cf281fae9da0992,5190a0540cf281fae9da0993,5190a0540cf281fae9da0994,5190a0540cf281fae9da0995,5190a0540cf281fae9da0996,5190a0540cf281fae9da0997,5190a0540cf281fae9da0998,5190a0540cf281fae9da0999,5190a0540cf281fae9da099a,5190a0540cf281fae9da099b,5190a0540cf281fae9da099c,5190a0540cf281fae9da099d,5190a0540cf281fae9da099e,5190a0540cf281fae9da099f,5190a0540cf281fae9da09a0,5190a0540cf281fae9da09a1,5190a0540cf281fae9da09a2,5190a0540cf281fae9da09a3,5190a0540cf281fae9da09a4,5190a0540cf281fae9da09a5,5190a0540cf281fae9da09a6,5190a0540cf281fae9da09a7,5190a0540cf281fae9da09a8,5190a0540cf281fae9da09a9,5190a0540cf281fae9da09aa,5190a0540cf281fae9da09ab,5190a0540cf281fae9da09ac,5190a0540cf281fae9da09ad,5190a0540cf281fae9da09ae,5190a0540cf281fae9da09af,5190a0540cf281fae9da09b0,5190a0540cf281fae9da09b1,5190a0540cf281fae9da09b2,5190a0550cf281fae9da09b3,5190a0560cf281fae9da09b4,5190a0560cf281fae9da09b5,5190a0560cf281fae9da09b6,5190a0560cf281fae9da09b7,5190a0560cf281fae9da09b8,5190a0560cf281fae9da09b9,5190a0560cf281fae9da09ba,5190a0560cf281fae9da09bb,5190a0560cf281fae9da09bc,5190a0560cf281fae9da09bd,5190a0560cf281fae9da09be,5190a0560cf281fae9da09bf,5190a0560cf281fae9da09c0,5190a0560cf281fae9da09c1,5190a0560cf281fae9da09c2,5190a0560cf281fae9da09c3,5190a0560cf281fae9da09c4,5190a0560cf281fae9da09c5,5190a0560cf281fae9da09c6,5190a0560cf281fae9da09c7,5190a0560cf281fae9da09c8,5190a0560cf281fae9da09c9,5190a0560cf281fae9da09ca,5190a0560cf281fae9da09cb,5190a0560cf281fae9da09cc,5190a0560cf281fae9da09cd,5190a0560cf281fae9da09ce,5190a0560cf281fae9da09cf,5190a0560cf281fae9da09d0,5190a0560cf281fae9da09d1,5190a0560cf281fae9da09d2,5190a0560cf281fae9da09d3,5190a0560cf281fae9da09d4,5190a0560cf281fae9da09d5,5190a0560cf281fae9da09d6,5190a0560cf281fae9da09d7,5190a0560cf281fae9da09d8,5190a0560cf281fae9da09d9,5190a0560cf281fae9da09da,5190a0560cf281fae9da09db,5190a0560cf281fae9da09dc,5190a0560cf281fae9da09dd,5190a0560cf281fae9da09de,5190a0560cf281fae9da09df,5190a0560cf281fae9da09e0,5190a0560cf281fae9da09e1,5190a0560cf281fae9da09e2,5190a0560cf281fae9da09e3,5190a0560cf281fae9da09e4,5190a0560cf281fae9da09e5,5190a0560cf281fae9da09e6,5190a0560cf281fae9da09e7,5190a0560cf281fae9da09e8,5190a0560cf281fae9da09e9,5190a0560cf281fae9da09ea,5190a0560cf281fae9da09eb,5190a0560cf281fae9da09ec,5190a0560cf281fae9da09ed,5190a0560cf281fae9da09ee,5190a0560cf281fae9da09ef,5190a0560cf281fae9da09f0,5190a0560cf281fae9da09f1,5190a0560cf281fae9da09f2,5190a0560cf281fae9da09f3,5190a0560cf281fae9da09f4,5190a0570cf281fae9da09f5,5190a0570cf281fae9da09f6,5190a0570cf281fae9da09f7,5190a0570cf281fae9da09f8,5190a0570cf281fae9da09f9,5190a0570cf281fae9da09fa,5190a0570cf281fae9da09fb,5190a0570cf281fae9da09fc,5190a0570cf281fae9da09fd,5190a0570cf281fae9da09fe,5190a0570cf281fae9da09ff,5190a0570cf281fae9da0a00,5190a0570cf281fae9da0a01,5190a0570cf281fae9da0a02,5190a0570cf281fae9da0a03,5190a0570cf281fae9da0a04,5190a0570cf281fae9da0a05,5190a0570cf281fae9da0a06,5190a0570cf281fae9da0a07,5190a0570cf281fae9da0a08,5190a0570cf281fae9da0a09,5190a0570cf281fae9da0a0a,5190a0570cf281fae9da0a0b,5190a0570cf281fae9da0a0c,5190a0570cf281fae9da0a0d,5190a0570cf281fae9da0a0e,5190a0570cf281fae9da0a0f,5190a0570cf281fae9da0a10";
	
	public static void main(String[] args) {
		HashAlgorithmTest test = new HashAlgorithmTest();
		
		/** Records the times of locating node*/
		Map<String, Integer> nodeRecord = new HashMap<String, Integer>();
		
//		List<String> allNodes = test.getNodes(NODE_COUNT);
		
		List<String> allNodes = new ArrayList<String>();
		allNodes.add("192.168.1.34");
		allNodes.add("192.168.1.35");
		allNodes.add("192.168.1.89");
		
//		KetamaConsistentHash locator = new KetamaConsistentHash(allNodes, HashAlgorithm.KETAMA_HASH, VIRTUAL_NODE_COUNT);
		KetamaConsistentHash locator = KetamaConsistentHash.getInstance(allNodes);
		
		List<String> allKeys = test.getAllStrings();
//		String[] $ids = ids.split(",");
//		List<String> allKeys = new ArrayList<String>();
//		for(String id : $ids) {
//			allKeys.add(id);
//		}
		
		for (String key : allKeys) {
			String node = locator.getPrimary(key);
			
			Integer times = nodeRecord.get(node);
			if (times == null) {
				nodeRecord.put(node, 1);
			} else {
				nodeRecord.put(node, times + 1);
			}
		}
		
//		System.out.println("Nodes count : " + NODE_COUNT + ", Keys count : " + EXE_TIMES + ", Normal percent : " + (float) 100 / NODE_COUNT + "%");
		System.out.println("Nodes count : " + 3 + ", Keys count : " + allKeys.size() + ", Normal percent : " + (float) 100 / 3 + "%");
		System.out.println("-------------------- boundary  ----------------------");
//		for (Map.Entry<String, Integer> entry : nodeRecord.entrySet()) {
//			System.out.println("Node name :" + entry.getKey() + " - Times : " + entry.getValue() + " - Percent : " + (float)entry.getValue() / EXE_TIMES * 100 + "%");
//		}
		
		for (Map.Entry<String, Integer> entry : nodeRecord.entrySet()) {
			System.out.println("Node name :" + entry.getKey() + " - Times : " + entry.getValue() + " - Percent : " + (float)entry.getValue() / allKeys.size() * 100 + "%");
		}
	}
	
	
	/**
	 * Gets the mock node by the material parameter
	 * 
	 * @param nodeCount 
	 * 		the count of node wanted
	 * @return
	 * 		the node list
	 */
	private List<String> getNodes(int nodeCount) {
		List<String> nodes = new ArrayList<String>();
		
		for (int k = 1; k <= nodeCount; k++) {
			String node = new String("node" + k);
			nodes.add(node);
		}
		
		return nodes;
	}
	
	/**
	 *	All the keys	
	 */
	private List<String> getAllStrings() {
		List<String> allStrings = new ArrayList<String>(EXE_TIMES);
		
		for (int i = 0; i < EXE_TIMES; i++) {
//			allStrings.add(generateRandomString(ran.nextInt(50)));
			allStrings.add(i + 1 + "");
		}
		
		return allStrings;
	}
	
	/**
	 * To generate the random string by the random algorithm
	 * <br>
	 * The char between 32 and 127 is normal char
	 * 
	 * @param length
	 * @return
	 */
	private String generateRandomString(int length) {
		StringBuffer sb = new StringBuffer(length);
		
		for (int i = 0; i < length; i++) {
			sb.append((char) (ran.nextInt(95) + 32));
		}
		
		return sb.toString();
	}
}
